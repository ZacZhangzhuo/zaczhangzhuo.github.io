<!DOCTYPE html>
<head>
        <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4214SLX26K"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4214SLX26K');
</script>
	<meta http-equiv='Content-Type' content='text/html;charset=utf-8'>
	<meta name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no'>
	<title>
		Grasshopper-C 贪吃蛇
	</title>
	<script src='https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js'>
	</script>
	<link rel="stylesheet" href="../../zMarkdownStyles.css" />
</head>
<body><!-- Menu Bar --><div class="menuBar"><a href="..\..\zHome.html " class="menuBar"> <p>zHome</p></a><a href="..\..\zDesigner\zDesigner.html " class="menuBar"> <p>zDesigner</p></a><a href="..\zLearner.html " class="menuBar"> <p>zLearner</p></a><a href="..\..\zWriter\zWriter.html " class="menuBar"> <p>zWriter</p></a><a href="..\..\zPhotographer\zPhotographer.html " class="menuBar"> <p>zPhotographer</p></a><a href="..\..\zDeveloper\zDeveloper.html " class="menuBar"> <p>zDeveloper</p></a><a href="..\..\zCV.html " class="menuBar"> <p>zCV</p></a><a href="..\..\zSkills.html " class="menuBar"> <p>zSkills</p></a><a href="..\..\zContact.html " class="menuBar"> <p>zContact</p></a></div><!-- End of Menu Bar -->
	<div class='rich_media_area_primary'>
		<!--<div style='display:none;'>Designer by ArchZ</div>-->
		<div id='js_article' class='rich_media'>
			<div id="img-content" class="rich_media_wrp">
          
          <h1 class="rich_media_title " id="activity-name">
            
Grasshopper-C# 贪吃蛇
          </h1>
          <div id="meta_content" class="rich_media_meta_list">
                                                                  <span class="rich_media_meta rich_media_meta_text">
                                      小zz
                                  </span>
                                      
                        <span class="rich_media_meta rich_media_meta_nickname" id="profileBt"><a href="javascript:void(0);">Arch Z</a>
              <div id="js_profile_qrcode" aria-hidden="true" class="profile_container" >
                <div class="profile_inner">
                  <strong class="profile_nickname">Arch Z</strong>
                  <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

                  <p class="profile_meta">
                  <label class="profile_meta_label">微信号</label>
                  <span class="profile_meta_value">Arch--Z</span>
                  </p>

                  <p class="profile_meta">
                  <label class="profile_meta_label">功能介绍</label>
                  <span class="profile_meta_value">小zz的建筑学习笔记，乐于与你分享。</span>
                  </p>
                </div>
                <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                  <i class="profile_arrow arrow_out"></i>
                  <i class="profile_arrow arrow_in"></i>
                </span>
              </div>
            </span>
            <span id="publish_time" class="rich_media_meta rich_media_meta_text">2020-02-19</span><span class="rich_media_meta rich_media_meta_text"><a href='https://mp.weixin.qq.com/s?__biz=MzA5MjQzMDc3NA==&amp;mid=2247483838&amp;idx=1&amp;sn=17bbb150fa3dff162a60330dd8d3d191&amp;chksm=906c0967a71b807136fabc8348492648d71bd90828aaf76a5653ac74905edccc708083c10302&amp;scene=27#wechat_redirect&cpage=20' target='_blank' >原文</a></span>
            <em id="js_ip_wording_wrp" class="rich_media_meta rich_media_meta_text" role="option" >发表于<span id="js_ip_wording" ></span></em>

          </div>

          
                              <div id="js_tags" class="article-tag__list"  data-len="0"
                      >
                          
              <div class="article-tag-card__title">收录于合集</div>
              <div class="article-tags">
                              </div>
                      </div>

          
                    
                                        

          
                    

          
                              
                                        
                    
                    
          

          
          
                                                  <div class="rich_media_content             "
            id="js_content" ><p ><iframe class="video_iframe rich_pages" data-vidtype="2" data-mpvid="wxv_1214738981095604226" data-cover="http%3A%2F%2Fmmbiz.qpic.cn%2Fmmbiz_jpg%2FotibBYe9u1ibliaibaVra9nxwxjLau56pJM83DCSGs3hcU13Zv3NmL40lwvOLEIm65hQLTBmfwsFE1cTkvqQwP3M9A%2F0%3Fwx_fmt%3Djpeg" allowfullscreen="" frameborder="0" data-ratio="2.0712742980561556" data-w="1918" src="https://mp.weixin.qq.com/mp/readtemplate?t=pages/video_player_tmpl&amp;action=mpvideo&amp;auto=0&amp;vid=wxv_1214738981095604226"></iframe></p><p ><br  /></p><hr   /><p ><span ><br  /></span></p><p ><span >据说学编程的同学都必做贪吃蛇？</span><span >入门级别的经典游戏拿来练练手也无妨。</span></p><p ><br  /></p><p ><span >Github上已经有很多贪吃蛇等各类游戏，用各种语法和思路写成的的代码范例。</span><span >想学习，练习或者交流的话Github是个非常好的平台。</span></p><p ><br  /></p><p ><img class="rich_pages" data-backh="422" data-backw="578" data-ratio="0.7300115874855156" data-s="300,640" src="images\0001.png" data-type="png" data-w="863"   /></p><p style="text-align: center;"><span >https://github.com</span></p><p ><br  /></p><p ><span >不过我这次写的贪吃蛇是基于我自己的理解写的，没有参照例子，也比较简单。</span><span >里面可能有可以优化或者不足的地方，欢迎指出。</span></p><p ><br  /></p><hr   /><p ><br  /></p><p ><strong><span >代码如下：</span></strong></p><p ><br  /></p><p ><strong><span >输入（方向和重置）：</span></strong><br  /></p><p ><span >pManager.AddIntegerParameter("zDirection", "zDirection", "Input a zDirection component.", GH_ParamAccess.item);</span></p><p ><span >pManager.AddBooleanParameter("zReset", "zReset", "Connect a button to reset.", GH_ParamAccess.item);</span></p><p ><br  /></p><p ><strong><span >输出（蛇身和食物）：</span></strong></p><p ><span >pManager.AddCurveParameter("Snake", "Snake", "The snake body curve.", GH_ParamAccess.list);</span></p><p ><span >pManager.AddCircleParameter("Food", "Food", "The food as circle.", GH_ParamAccess.item);</span></p><p ><br  /></p><p ><strong><span >Persistent Data:</span></strong><br  /></p><p ><span >Point3d headPoint = new Point3d(0, 0, 0);</span></p><p ><span >List&lt;Point3d&gt; bodyPoints = new List&lt;Point3d&gt;() { new Point3d(0, 0, 0) };</span></p><p ><span >int seed = 0;</span></p><p ><span >List&lt;Point3d&gt; zBodyPoints = new List&lt;Point3d&gt;();</span></p><p ><br  /></p><p ><br  /></p><p ><strong><span >主体：</span></strong></p><p ><span >{</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span >//Input</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int zDirection = 0;</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bool zReset = true;</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bool judge = DA.GetData("zDirection", ref zDirection);</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bool judge2 = DA.GetData("zReset", ref zReset);</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!judge) AddRuntimeMessage(GH_RuntimeMessageLevel.Error, "Please add a MDsilder to control the direction. Must be setted as -1 to 1.");</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!judge2) AddRuntimeMessage(GH_RuntimeMessageLevel.Error, "Please connect a button to the reset!");</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AddRuntimeMessage(GH_RuntimeMessageLevel.Remark, "Please remenber add a timer to it. Suggested time interval：</span><span >1s.");</span></p><p ><br  /></p><p ><br  /></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; List&lt;Curve&gt; bodies = new List&lt;Curve&gt;();</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Random foodRandomNumber = new Random(seed);</span></p><p ><br  /></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span >//Reset</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (zReset)</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; headPoint = new Point3d(0, 0, 0);</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; List&lt;Point3d&gt; bodyPoints = new List&lt;Point3d&gt;();</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p ><br  /></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span >//Direction</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Vector3d direction = new Vector3d(0, 0, 0);</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (zDirection == 1)</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { direction[1] = 1; }</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (zDirection == 2)</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { direction[1] = -1; }</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (zDirection == 3)</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { direction[0] = -1; }</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (zDirection == 4)</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { direction[0] = 1; }</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bodyPoints.Add(headPoint);</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; headPoint += direction * 10;</span></p><p ><br  /></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span >//Food section below</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; double foodRandomX = foodRandomNumber.Next(-100, 100);</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; double foodRandomY = foodRandomNumber.Next(-100, 100);</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Point3d foodPoint = new Point3d(foodRandomX, foodRandomY, 0);</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Circle FoodCircle = new Circle(foodPoint, 10);</span></p><p ><br  /></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span >//Eating judge</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (foodPoint.DistanceTo(headPoint) &lt; 12) { seed++; }</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else { bodyPoints.RemoveRange(0, 1); }</span></p><p ><br  /></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach (Point3d point in bodyPoints)</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Circle body = new Circle(point, 5);</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bodies.Add(body.ToNurbsCurve());</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Curve[] zSnake = Curve.CreateBooleanUnion(bodies, 1);&nbsp;</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; List&lt;Curve&gt; output = new List&lt;Curve&gt;(zSnake);</span></p><p ><br  /></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Output</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DA.SetData("Food", FoodCircle);</span></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DA.SetDataList("Snake", output);</span></p><p ><br  /></p><p ><span >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p ><span ><br  /></span></p><hr   /><p ><span ></span><br  /></p><p ><span >希望能给你带来点启发。</span></p><p ><span ><br  /></span></p><hr   /><p ><span ></span><br  /></p><p style="text-align: center;"><img class="rich_pages" data-ratio="0.346875" data-s="300,640" src="images\0002.jpg" data-type="jpeg" data-w="1280"   /></p></div>

          
        </div>
			<p class="endnotes">--- Growing, Growing, Brighter Everyday ! ---</p>
		</div>
		
	</div>
</body>
<script>
$(function(){
    var wX_contentArray = document.getElementsByClassName('rich_media_content');
    for(let i = 0; i < wX_contentArray.length;i++){
       wX_contentArray[i].style.visibility = '';
    }
    if(document.getElementById('js_content')){
        document.getElementById('js_content').style.visibility = '';
    }
})
</script>